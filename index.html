<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sajid Ultimate 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Amiri:wght@400;700&display=swap');
        :root { --bg: #0f172a; --card: #1e293b; --text: #f1f5f9; --primary: #10b981; }
        .light { --bg: #f8fafc; --card: #ffffff; --text: #0f172a; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); transition: 0.3s; margin: 0; }
        .arabic { font-family: 'Amiri', serif; direction: rtl; line-height: 1.8; }
        .card-custom { background: var(--card); border-radius: 1.5rem; border: 1px solid rgba(255,255,255,0.05); }
        .tab-content { display: none; padding-bottom: 120px; }
        .active { display: block; animation: fadeIn 0.3s ease; }
        .rtl { direction: rtl; text-align: right; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; } }
        nav { background: var(--card); border-top: 1px solid rgba(255,255,255,0.1); }
        .compass-ring { width: 140px; height: 140px; border-radius: 50%; border: 3px solid var(--primary); position: relative; margin: 0 auto; }
        .needle { position: absolute; top: 10%; left: 50%; width: 3px; height: 40%; background: #ef4444; transform-origin: bottom center; }
    </style>
</head>
<body id="appBody">

    <div class="max-w-md mx-auto min-h-screen flex flex-col relative">
        
        <header class="p-6 flex justify-between items-center sticky top-0 z-50 bg-inherit">
            <div>
                <h1 class="text-3xl font-black text-emerald-500">Sajid</h1>
                <p class="text-[10px] font-bold opacity-50 uppercase tracking-widest">Casablanca, MA</p>
            </div>
            <div class="flex gap-2">
                <button onclick="toggleLang()" id="langBtn" class="w-10 h-10 card-custom flex items-center justify-center font-bold text-xs">AR</button>
                <button onclick="toggleTheme()" class="w-10 h-10 card-custom flex items-center justify-center text-emerald-500"><i class="fas fa-moon"></i></button>
            </div>
        </header>

        <main class="flex-1 p-5 overflow-y-auto">
            
            <div id="home" class="tab-content active space-y-6">
                <div class="bg-emerald-600 rounded-[2.5rem] p-8 text-white shadow-xl relative overflow-hidden">
                    <div class="relative z-10">
                        <p class="text-xs opacity-80 uppercase font-bold">Prochaine Prière</p>
                        <h2 class="text-5xl font-black my-2">12:35</h2>
                        <p class="text-[10px] font-bold opacity-70 uppercase tracking-widest" id="hijriDate">5 Ramadan 1447</p>
                    </div>
                    <i class="fas fa-mosque absolute right-[-20px] bottom-[-20px] text-9xl opacity-10"></i>
                </div>
                <div id="prayer-list" class="space-y-3"></div>
                <div class="card-custom p-6 text-center">
                    <h3 class="text-[10px] font-black opacity-40 uppercase mb-4">Qibla</h3>
                    <div class="compass-ring" id="compassRing"><div class="needle"></div><i class="fas fa-kaaba absolute -top-4 left-1/2 -translate-x-1/2 text-emerald-500"></i></div>
                </div>
            </div>

            <div id="library" class="tab-content space-y-4">
                <h2 class="text-2xl font-black mb-4" id="libTitle">Bibliothèque</h2>
                <div onclick="openTasbih()" class="card-custom p-5 flex items-center gap-4 cursor-pointer border-l-4 border-emerald-500">
                    <div class="w-12 h-12 bg-emerald-500 rounded-2xl flex items-center justify-center text-white"><i class="fas fa-fingerprint"></i></div>
                    <div><h3 class="font-bold">Tasbih</h3><p class="text-xs opacity-50">Compteur & Invocations</p></div>
                </div>
                <div onclick="loadQuran()" class="card-custom p-5 flex items-center gap-4 cursor-pointer">
                    <i class="fas fa-book-quran text-emerald-500 text-xl"></i>
                    <span class="font-bold">Saint Coran (114)</span>
                </div>
                <div onclick="showAzkar('matin')" class="card-custom p-5 flex items-center gap-4 cursor-pointer border-l-4 border-amber-400">
                    <i class="fas fa-sun text-amber-400"></i> <span class="font-bold" id="txtMatin">Azkar Matin</span>
                </div>
                <div onclick="showAzkar('soir')" class="card-custom p-5 flex items-center gap-4 cursor-pointer border-l-4 border-blue-400">
                    <i class="fas fa-moon text-blue-400"></i> <span class="font-bold" id="txtSoir">Azkar Soir</span>
                </div>
                <div onclick="showAzkar('douas')" class="card-custom p-5 flex items-center gap-4 cursor-pointer border-l-4 border-red-400">
                    <i class="fas fa-hands-praying text-red-400"></i> <span class="font-bold" id="txtDouas">Douas (Invocations)</span>
                </div>
            </div>

            <div id="calendar" class="tab-content space-y-6">
                <div class="flex justify-between items-center"><h2 class="text-2xl font-black">2026</h2><span class="text-emerald-500 font-bold" id="currentMonthLabel">Février</span></div>
                <div class="flex gap-2 overflow-x-auto pb-2 no-scrollbar" id="monthSelector"></div>
                <div class="grid grid-cols-7 gap-2 text-center text-[10px] font-bold opacity-30"><span>L</span><span>M</span><span>M</span><span>J</span><span>V</span><span>S</span><span>D</span></div>
                <div id="calGrid" class="grid grid-cols-7 gap-2"></div>
            </div>

            <div id="tasbih-view" class="tab-content space-y-8 text-center">
                <button onclick="openTab('library')" class="text-left w-full text-emerald-500 font-bold">← Retour</button>
                <div class="flex justify-center gap-2 flex-wrap" id="tasbihTypes"></div>
                <div onclick="tCount()" class="w-64 h-64 mx-auto rounded-full card-custom border-8 border-emerald-500/20 flex flex-col items-center justify-center cursor-pointer active:scale-95 transition">
                    <p class="arabic text-xl text-emerald-500 mb-2" id="tCurrentName">سبحان الله</p>
                    <span id="tVal" class="text-7xl font-black">0</span>
                </div>
                <button onclick="tReset()" class="text-[10px] font-bold opacity-40 tracking-widest">RÉINITIALISER</button>
            </div>

            <div id="view-details" class="tab-content space-y-4">
                <button onclick="openTab('library')" class="text-emerald-500 font-bold p-2">← Retour</button>
                <div id="details-content" class="space-y-4"></div>
            </div>
        </main>

        <nav class="fixed bottom-0 left-0 right-0 max-w-md mx-auto flex justify-around p-5 rounded-t-[2.5rem] z-50">
            <button onclick="openTab('home')" class="nav-btn text-emerald-500"><i class="fas fa-home text-xl"></i></button>
            <button onclick="openTab('library')" class="nav-btn opacity-30"><i class="fas fa-book-open text-xl"></i></button>
            <button onclick="openTab('calendar')" class="nav-btn opacity-30"><i class="fas fa-calendar-alt text-xl"></i></button>
        </nav>
    </div>

    <script>
        let currentLang = 'fr';
        let count = 0;
        let selectedMonth = 1;

        const months = ["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"];
        const tasbihInvos = [
            {ar: "سبحان الله", fr: "SubhanAllah"},
            {ar: "الحمد لله", fr: "Alhamdulillah"},
            {ar: "الله أكبر", fr: "Allahu Akbar"},
            {ar: "أستغفر الله", fr: "Astaghfirullah"}
        ];

        // 20 TEXTES ARABES UNIQUES (Échantillon représentatif)
        const azkarTexts = {
            matin: ["أَصْبَحْنَا وَأَصْبَحَ الْمُلْكُ لِلَّهِ","اللَّهُمَّ بِكَ أَصْبَحْنَا","أَصْبَحْنَا عَلَى فِطْرَةِ الإِسْلَامِ","يَا حَيُّ يَا قَيُّومُ بِرَحْمَتِكَ أَسْتَغِيثُ","اللَّهُمَّ أَنْتَ رَبِّي لَا إِلَهَ إِلَّا أَنْتَ","رَضِيتُ بِاللَّهِ رَبًّا","اللَّهُمَّ إِنِّي أَسْأَلُكَ عِلْمًا نَافِعًا","بِاسْمِ اللَّهِ الَّذِي لَا يَضُرُّ","حَسْبِيَ اللَّهُ لَا إِلَهَ إِلَّا هُوَ","سُبْحَانَ اللَّهِ وَبِحَمْدِهِ: عَدَدَ خَلْقِهِ","اللَّهُمَّ عَافِنِي فِي بَدَنِي","اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْكُفْرِ","أَعُوذُ بِكَلِمَاتِ اللَّهِ التَّامَّاتِ","اللَّهُمَّ صَلِّ وَسَلِّمْ عَلَى نَبِيِّنَا مُحَمَّدٍ","لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ","أَسْتَغْفِرُ اللَّهَ وَأَتُوبُ إِلَيْهِ","سُبْحَانَ اللَّهِ وَبِحَمْدِهِ (100)","يَا رَبِّ لَكَ الْحَمْدُ","اللَّهُمَّ مَا أَصْبَحَ بِي مِنْ نِعْمَةٍ","قراءة آية الكرسِي"],
            soir: ["أَمْسَيْنَا وَأَمْسَى الْمُلْكُ لِلَّهِ","اللَّهُمَّ بِكَ أَمْسَيْنَا","أَمْسَيْنَا عَلَى فِطْرَةِ الإِسْلَامِ","يَا حَيُّ يَا قَيُّومُ","اللَّهُمَّ أَنْتَ رَبِّي","رَضِيتُ بِاللَّهِ رَبًّا","بِسْمِ اللَّهِ الَّذِي لَا يَضُرُّ","أَعُوذُ بِكَلِمَاتِ اللَّهِ التَّامَّاتِ","اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْهَمِّ","اللَّهُمَّ أَنْتَ خَلَقْتَ نَفْسِي","اللَّهُمَّ إِنِّي أَسْأَلُكَ الْعَافِيَةَ","اللَّهُمَّ عَالِمَ الْغَيْبِ","اللَّهُمَّ بَارِكْ لَنَا فِي مَسَائِنَا","يَا مُقَلِّبَ الْقُلُوبِ","لَا إِلَهَ إِلَّا اللَّهُ","أَسْتَغْفِرُ اللَّهَ","سُبْحَانَ اللَّهِ","الحمد لله","الله أكبر","قراءة المعوذات"],
            douas: ["رَبَّنَا آتِنَا فِي الدُّنْيَا حَسَنَةً","رَبَّنَا لَا تُؤَاخِذْنَا إِنْ نَسِينَا","رَبِّ اجْعَلْنِي مُقِيمَ الصَّلَاةِ","رَبِّ هَبْ لِي حُكْمًا","اللَّهُمَّ إِنَّكَ عَفُوٌّ تُحِبُّ الْعَفْوَ","رَبَّنَا هَبْ لَنَا مِنْ أَزْوَاجِنَا","اللَّهُمَّ اجْعَلْ فِي قَلْبِي نُورًا","رَبِّ اشْرَحْ لِي صَدْرِي","اللَّهُمَّ أَعِنِّي عَلَى ذِكْرِكَ","رَبِّ لَا تَذَرْنِي فَرْدًا","اللَّهُمَّ اغْفِرْ لِي ذَنْبِي","رَبَّنَا تَقَبَّلْ مِنَّا","اللَّهُمَّ إِنِّي أَسْأَلُكَ الْجَنَّةَ","اللَّهُمَّ بَاعِدْ بَيْنِي وَبَيْنَ خَطَايَايَ","يَا حَيُّ يَا قَيُّومُ","اللَّهُمَّ لَكَ أَسْلَمْتُ","رَبِّ اغْفِرْ لِي وَلِوَالِدَيَّ","اللَّهُمَّ اكْفِنِي بِحَلَالِكَ","رَبِّ أَنْزِلْنِي مُنْزَلًا مُبَارَكًا","اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْفَقْرِ"]
        };

        function renderPrayers() {
            const times = {fr: ['Fajr','Dhuhr','Asr','Maghrib','Isha'], ar: ['الفجر','الظهر','العصر','المغرب','العشاء']};
            const h = ['05:41','12:35','15:58','18:13','19:46'];
            document.getElementById('prayer-list').innerHTML = times[currentLang].map((n,i)=>`
                <div class="card-custom p-4 flex justify-between items-center"><span class="font-bold">${n}</span><span class="font-black text-emerald-500">${h[i]}</span></div>`).join('');
        }

        function renderCalendar() {
            const selector = document.getElementById('monthSelector');
            selector.innerHTML = months.map((m,i)=>`<button onclick="setMonth(${i})" class="px-4 py-1 rounded-full text-[10px] font-bold ${i===selectedMonth?'bg-emerald-500 text-white':'card-custom opacity-40'}">${m}</button>`).join('');
            const grid = document.getElementById('calGrid'); grid.innerHTML = "";
            let days = selectedMonth === 1 ? 28 : 31;
            for(let i=1; i<=days; i++) grid.innerHTML += `<div class="p-3 card-custom text-[10px] font-bold text-center ${i===23&&selectedMonth===1?'bg-emerald-500 text-white shadow-lg':''}">${i}</div>`;
            document.getElementById('currentMonthLabel').innerText = months[selectedMonth];
        }

        function setMonth(i) { selectedMonth = i; renderCalendar(); }

        function openTasbih() {
            openTab('tasbih-view');
            document.getElementById('tasbihTypes').innerHTML = tasbihInvos.map(t => `
                <button onclick="setT('${t.ar}')" class="px-3 py-1 card-custom text-[10px] font-bold">${currentLang==='ar'?t.ar:t.fr}</button>`).join('');
        }
        function tCount() { count++; document.getElementById('tVal').innerText = count; }
        function tReset() { count = 0; document.getElementById('tVal').innerText = 0; }
        function setT(name) { document.getElementById('tCurrentName').innerText = name; tReset(); }

        function showAzkar(type) {
            openTab('view-details');
            document.getElementById('details-content').innerHTML = azkarTexts[type].map((txt, i) => `
                <div class="card-custom p-6"><p class="arabic text-xl mb-2 text-emerald-500">${txt}</p>
                <p class="text-[9px] opacity-40 uppercase font-black">Invocation ${i+1}</p></div>`).join('');
        }

        async function loadQuran() {
            openTab('view-details');
            const res = await fetch('https://api.alquran.cloud/v1/surah');
            const data = await res.json();
            document.getElementById('details-content').innerHTML = data.data.map(s => `
                <div class="card-custom p-4 flex justify-between items-center mb-2"><span>${s.number}. ${s.englishName}</span><span class="arabic text-emerald-500">${s.name}</span></div>`).join('');
        }

        function openTab(id) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            if(id === 'calendar') renderCalendar();
        }

        function toggleLang() { 
            currentLang = currentLang === 'fr' ? 'ar' : 'fr'; 
            document.body.classList.toggle('rtl', currentLang==='ar');
            document.getElementById('langBtn').innerText = currentLang==='fr'?'AR':'FR';
            renderPrayers(); 
        }
        function toggleTheme() { document.body.classList.toggle('light'); }

        renderPrayers();
        window.addEventListener('deviceorientation', (e) => { if(e.alpha) document.getElementById('compassRing').style.transform = `rotate(${-e.alpha}deg)`; });
    </script>
</body>
</html>
